##############################
# Norse Flavor Events
#
# written by Ogulcan Yildirim
##############################

namespace = norse_events

country_event = {
	id = norse_events.1
	title = norse_events.1.t
	desc = norse_events.1.desc
	picture = NORSE_TEMPLE_eventPicture
	is_triggered_only = yes

	# Odin
	option = {
		name = norse_events.1.a
		trigger = {
			NOT = { has_personal_deity = odin }
		}
		change_personal_deity = odin
	}

	# Freya
	option = {
		name = norse_events.1.b
		trigger = {
			NOT = { has_personal_deity = freya }
		}
		change_personal_deity = freya
	}

	# Tor
	option = {
		name = norse_events.1.c
		trigger = {
			NOT = { has_personal_deity = tor }
		}
		change_personal_deity = tor
	}

	# Tyr
	option = {
		name = norse_events.1.d
		trigger = {
			NOT = { has_personal_deity = tyr }
		}
		change_personal_deity = tyr
	}

	# Njord
	option = {
		name = norse_events.1.e
		trigger = {
			NOT = { has_personal_deity = njord }
		}
		change_personal_deity = njord
	}

	# Snotra
	option = {
		name = norse_events.1.f
		trigger = {
			NOT = { has_personal_deity = snotra }
		}
		change_personal_deity = snotra
	}
}

# Reconstruction of the Temple in Uppsala
country_event = {
	id = norse_events.6
	title = norse_events.6.t
	desc = norse_events.6.desc
	picture = NORSE_TEMPLE_eventPicture
	goto = 1
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			1 = {
				set_province_flag = has_uppsala_temple_flag
			}
		}
	}
	
	option = {
		name = norse_events.6.a
		1 = {
			add_province_triggered_modifier = religious_center
			add_province_triggered_modifier = temple_of_uppsala_modifier
			add_building = cathedral
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Embracement of the Norse culture
country_event = {
	id = norse_events.8
	title = norse_events.8.t
	desc = norse_events.8.desc
	picture = VIKINGS_eventPicture
	is_triggered_only = yes

	option = {	#It is time to return to our roots
		name = norse_events.8.a
		change_primary_culture = norse
		capital_scope = {
			change_culture = norse
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
		}
		custom_tooltip = norse_events.8.a.tt
		hidden_effect = {
			set_country_flag = accepted_norse_ideas_flag
			every_owned_province = {
				limit = {
					OR = {
						culture = swedish
						culture = icelandic
						culture = danish
						culture = norwegian
						culture = norse_english
					}
				}
				change_culture = norse
			}
			if = {
				limit = {
					OR = {
						ruler_culture = swedish
						ruler_culture = icelandic
						ruler_culture = danish
						ruler_culture = norwegian
						ruler_culture = norse_english
					}
				}
				set_ruler_culture = norse
			}
			if = {
				limit = {
					has_heir = yes
					OR = {
						heir_culture = swedish
						heir_culture = icelandic
						heir_culture = danish
						heir_culture = norwegian
						heir_culture = norse_english
					}
				}
				set_heir_culture = norse
			}
			if = {
				limit = {
					has_consort = yes
					OR = {
						consort_culture = swedish
						consort_culture = icelandic
						consort_culture = danish
						consort_culture = norwegian
						consort_culture = norse_english
					}
				}
				set_consort_culture = norse
			}
		}
		if = {
			limit = { 
				NOT = { has_idea_group = norse_ideas }
			}
			country_event = { id = ideagroups.0 } #Swap Ideas
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Return of the North Sea Empire
country_event = {
	id = norse_events.9
	title = norse_events.9.t
	desc = norse_events.9.desc
	picture = VIKING_KING_eventPicture
	is_triggered_only = yes

	option = {	#We shall take the mantle of our ancestors!
		name = norse_events.9.a
		set_country_flag = restored_the_north_sea_empire
		if = {
			limit = { NOT = { government_rank = 3 } }
			set_government_rank = 3
		}
		override_country_name = NORTH_SEA_EMPIRE
		set_country_flag = renamed_to_north_sea_empire
		set_country_flag = has_overriden_color_flag
		#change_country_color = { color = { 202 245 251 } }
		change_country_color = {color = { 100 100 100 } }
		add_prestige = 25
		ai_chance = {
			factor = 1
		}
	}
}

#Return of Trondelag
country_event = {
	id = norse_events.10
	title = norse_events.10.t
	desc = norse_events.10.d
	picture = NORSE_TEMPLE_eventPicture

	fire_only_once = yes

	trigger = {
		owns = 20
		religion = norse_pagan_reformed
		has_dlc = "Rights of Man"
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = norse_events.10.a

		add_prestige = 10
		#rename_capital = "Nidaros"
	}
}

#Return of Stockholm
country_event = {
	id = norse_events.11
	title = norse_events.11.t
	desc = norse_events.11.d
	picture = NORSE_TEMPLE_eventPicture

	fire_only_once = yes

	trigger = {
		owns = 1
		religion = norse_pagan_reformed
		has_dlc = "Rights of Man"
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = norse_events.11.a

		add_prestige = 10
	}
}

#Return of Copenhagen
country_event = {
	id = norse_events.12
	title = norse_events.12.t
	desc = norse_events.12.d
	picture = NORSE_TEMPLE_eventPicture

	fire_only_once = yes

	trigger = {
		owns = 12	#Coincidence its also event 12 lmao
		religion = norse_pagan_reformed
		has_dlc = "Rights of Man"
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = norse_events.12.a

		add_prestige = 10
	}
}

#Return of Yorvik
country_event = {
	id = norse_events.13
	title = norse_events.13.t
	desc = norse_events.13.d
	picture = NORSE_TEMPLE_eventPicture

	fire_only_once = yes

	trigger = {
		owns = 245
		religion = norse_pagan_reformed
		has_dlc = "Rights of Man"
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = norse_events.13.a

		add_prestige = 10
		245 = {
			change_culture = norse_english
		}
		add_accepted_culture = norse_english
	}
}